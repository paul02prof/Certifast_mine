<!-- templates/certifications/partials/filters.html -->
<!-- templates/certifications/partials/filters.html -->
<div class="from-blue-50 to-blue-100 p-4 mt-4 w-full rounded-xl  mr-8 scroll-smooth overflow-auto  transition-all duration-300 ease-in-out  max-h-0" id="filter-block">

 <form method="get" id="filter-form" class="space-y-1 ">
     <div class="flex justify-end space-x-5 pt-4">
      <button type="submit" class="btn btn-primary ">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd" />
        </svg>
        Appliquer les filtres
      </button>
      <a href="{% url 'certification_list' %}" class="btn btn-outline">
        Réinitialiser
      </a>
    </div>

    <!-- Catégories -->
    <div>

      <button type="button" class="btn btn-sm mb-1 btn-outline text-violet-600 toggle-filter-btn" data-target="category-options">
        Catégories
      </button>
      <div id="category-options" class=" flex flex-wrap gap-3 mt-3 mb-3">
        {% for category in all_categories %}
        <button type="button"
                class="filter-btn category-btn btn btn-sm {% if request.GET.category == category.id|stringformat:'s' %}btn-primary{% else %}btn-outline{% endif %}"
                data-filter="category"
                data-value="{{ category.id }}">
          {{ category.name }}
        </button>
        {% endfor %}
      </div>
      <input type="hidden" name="category" id="category-input" value="{{ request.GET.category }}">
    </div>

    <!-- Institutions -->
    <div>

      <button type="button" class="btn btn-sm btn-outline mb-1 text-violet-600 toggle-filter-btn" data-target="institution-options">
        Institutions
      </button>
      <div id="institution-options" class=" flex flex-wrap gap-3 mt-3 mb-3">
        {% for institution in all_institutions %}
        <button type="button"
                class="filter-btn institution-btn btn btn-sm {% if request.GET.institution == institution.id|stringformat:'s' %}btn-primary{% else %}btn-outline{% endif %}"
                data-filter="institution"
                data-value="{{ institution.id }}">
          {{ institution.name }}
        </button>
        {% endfor %}
      </div>
      <input type="hidden" name="institution" id="institution-input" value="{{ request.GET.institution }}">
    </div>

    <!-- Langues -->
    <div>

      <button type="button" class="btn btn-sm btn-outline mb-1 text-violet-600 toggle-filter-btn" data-target="language-options">
       Langues
      </button>
      <div id="language-options" class=" flex flex-wrap gap-3 mt-3 mb-3">
        {% for language in all_languages %}
        <button type="button"
                class="filter-btn language-btn btn btn-sm {% if request.GET.language == language.id|stringformat:'s' %}btn-primary{% else %}btn-outline{% endif %}"
                data-filter="language"
                data-value="{{ language.id }}">
          {{ language.name }}
        </button>
        {% endfor %}
      </div>
      <input type="hidden" name="language" id="language-input" value="{{ request.GET.language }}">
    </div>

    <!-- Sujets -->
    <div>

      <button type="button" class="btn btn-sm btn-outline mb-1 text-violet-600 toggle-filter-btn" data-target="topic-options">
       Topics
      </button>
      <div id="topic-options" class=" flex flex-wrap gap-3 mt-3 mb-3">
        {% for topic in all_topics %}
        <button type="button"
                class="filter-btn topic-btn btn btn-sm {% if request.GET.topic == topic.id|stringformat:'s' %}btn-primary{% else %}btn-outline{% endif %}"
                data-filter="topic"
                data-value="{{ topic.id }}">
          {{ topic.name }}
        </button>
        {% endfor %}
      </div>
      <input type="hidden" name="topic" id="topic-input" value="{{ request.GET.topic }}">
    </div>


  </form>

</div>

